<div class="container">
  <div *ngIf="!registered">
    <form [formGroup]="registerForm" (ngSubmit)="register()" class="py-5 row register-form">
      <h1 class="h3 mb-3 fw-normal text-white">Sign up to MotorOne!</h1>

      <div class="col-6 mb-1">
        <div class="form-floating">
          <input type="text" class="form-control inputStyle form__field" placeholder="Insert your name" formControlName="name"
            [ngClass]="{'is-valid': isValid('name'), 'is-invalid': isInvalid('name')}">
          <span *ngIf="registerForm.controls['name'].dirty"
            [ngClass]="{ 'valid': isValid('name'), 'invalid': isInvalid('name') }">{{msg.name}}</span>
          <label class="form__label">Name</label>
        </div>
      </div>
      <div class="col-6 mb-1">
        <div class="form-floating">
          <input [ngClass]="{ 'is-valid': isValid('surname'), 'is-invalid': isInvalid('surname')}" type="text"
            class="form-control inputStyle form__field" id="floatingSurname" placeholder="Insert your surname" formControlName="surname">
          <span *ngIf="registerForm.controls['surname'].dirty"
            [ngClass]="{ 'valid': isValid('surname'), 'invalid': isInvalid('surname') }">{{msg.surname}}</span>
          <label class="form__label">Surname</label>
        </div>
      </div>
      <div class="col-12 mb-1">
        <div class="form-floating">
          <input type="text" class="form-control inputStyle form__field" placeholder="Inserisci il tuo username" formControlName="username"
            [ngClass]="{'is-valid': isValid('username'), 'is-invalid': isInvalid('username')}">
          <span *ngIf="registerForm.controls['username'].dirty"
            [ngClass]="{ 'valid': isValid('username'), 'invalid': isInvalid('username') }">{{msg.username}}</span>
          <label class="form__label">Username</label>
        </div>
      </div>
      <div class="col-12 mb-1">
        <div class="form-floating">
          <input [ngClass]="{'is-valid': isValid('email'), 'is-invalid': isInvalid('email')}" type="email"
            class="form-control inputStyle form__field" id="floatingInput" placeholder="name@example.com" formControlName="email">
          <label class="form__label">Email address</label>
          <span *ngIf="registerForm.controls['email'].dirty"
            [ngClass]="{ 'valid': isValid('email'), 'invalid': isInvalid('email') }">{{msg.email}}</span>
        </div>
      </div>
      <div class="col-12 mb-1">
        <div class="form-floating">
          <input [ngClass]="{'is-valid': isValid('password'), 'is-invalid': isInvalid('password')}" type="password"
            class="form-control inputStyle form__field" id="floatingPassword" placeholder="Password" formControlName="password">
          <label class="form__label">Password</label>
          <span *ngIf="registerForm.controls['password'].dirty"
            [ngClass]="{ 'valid': isValid('password'), 'invalid': isInvalid('password') }">{{msg.password}}</span>
        </div>
      </div>
      <div class="col-12 mb-1">
        <div class="form-floating">
          <input [ngClass]="{'is-valid': isValid('confirmPassword'), 'is-invalid': isInvalid('confirmPassword')}"
            type="password" class="form-control inputStyle form__field" id="floatingConfirmPassword" placeholder="Confirm password"
            formControlName="confirmPassword">
            <label class="form__label">Confirm Password</label>
          <span *ngIf="registerForm.controls['confirmPassword'].dirty"
            [ngClass]="{ 'valid':match, 'invalid':!match}">{{msg.confirmPassword}}</span>

        </div>
      </div>
      <p class="text-white mt-2">Already registered? Go to <a class="login-link" routerLink="/auth/login">login.</a></p>


      <button [disabled]="!registerForm.valid" class="welcome-btn btnReg w-100 py-2" type="submit">Sign up</button>
    </form>
  </div>
  <div *ngIf="registered">
    <h2 class="fw-bold mb-5">Hi {{this.registerForm.value['name']}}. Registration done.</h2>
    <a type="submit" routerLink="../../auth/login" class="btn btn-primary welcome-btn btn-block btn-login">
      Go to login page!
    </a>
  </div>
</div>
